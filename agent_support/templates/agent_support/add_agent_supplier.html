{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container-fluid mb-5">
    <div class="row pt-3">
        <div class="col-3">
        </div>
        <div class="col-6 text-center">
            <div class="row mt-1 mb-5">
                <div class="col-md-12 mx-auto">
                    <div class="card shadow">
                        <div class="card-header text-center bg-gradient-blue-purple">
                            <h3 class="text-color-white pt-1">Add New Supplier</h3>
                        </div>
                        <div class="card-body">
                            <form method="POST">
                                {% csrf_token %}
        
                                <!-- Supplier Type -->
                                <div class="mb-4 text-start">
                                    <label for="{{ form.supplier_type.id_for_label }}" class="form-label">
                                        {{ form.supplier_type.label }}
                                    </label>
                                    {{ form.supplier_type }}
                                    {% if form.supplier_type.help_text %}
                                    <div class="form-text">{{ form.supplier_type.help_text }}</div>
                                    {% endif %}
                                </div>
        
                                <!-- Supplier Name -->
                                <div class="mb-4 text-start">
                                    <label for="{{ form.supplier_name.id_for_label }}" class="form-label">
                                        {{ form.supplier_name.label }}
                                    </label>
                                    {{ form.supplier_name }}
                                    {% if form.supplier_name.help_text %}
                                    <div class="form-text">{{ form.supplier_name.help_text }}</div>
                                    {% endif %}
                                </div>
        
                                <!-- Agent Websites -->
                                <div class="mb-4 text-start">
                                    <label class="form-label">Agent Websites</label>
                                    <div id="websites-container">
                                        <div class="website-entry mb-2">
                                            <div class="row">
                                                <div class="col-md-5">
                                                    <input type="url" class="form-control website-url"
                                                        placeholder="Enter website URL">
                                                    <div class="form-text">Enter the website URL (e.g., https://example.com)
                                                    </div>
                                                </div>
                                                <div class="col-md-5">
                                                    <input type="text" class="form-control website-description"
                                                        placeholder="Enter description">
                                                    <div class="form-text">Enter a description for this website</div>
                                                </div>
                                                <div class="col-md-2">
                                                    <button type="button" class="btn btn-danger remove-entry">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-12 text-start">
                                                <button type="button" class="btn btn-primary add-website">
                                                    <i class="fas fa-plus me-1"></i>Add Website
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
        
                                <!-- Contact Phone -->
                                <div class="mb-4 text-start">
                                    <label class="form-label">Contact Phone Numbers</label>
                                    <div id="phones-container">
                                        <div class="phone-entry mb-2">
                                            <div class="row">
                                                <div class="col-md-5">
                                                    <input type="tel" class="form-control phone-number"
                                                        placeholder="Enter phone number">
                                                    <div class="form-text">Enter the phone number (e.g., +44 123 456 7890)</div>
                                                </div>
                                                <div class="col-md-5">
                                                    <input type="text" class="form-control phone-description"
                                                        placeholder="Enter description">
                                                    <div class="form-text">Enter a description for this number</div>
                                                </div>
                                                <div class="col-md-2">
                                                    <button type="button" class="btn btn-danger remove-entry">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-12 text-start">
                                                <button type="button" class="btn btn-primary add-phone">
                                                    <i class="fas fa-plus"></i>Add Phone Number
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
        
                                <!-- General Email -->
                                <div class="mb-4 text-start">
                                    <label class="form-label">General Email Addresses</label>
                                    <div id="emails-container">
                                        <div class="email-entry mb-2">
                                            <div class="row">
                                                <div class="col-md-5">
                                                    <input type="email" class="form-control email-address"
                                                        placeholder="Enter email address">
                                                    <div class="form-text">Enter the email address</div>
                                                </div>
                                                <div class="col-md-5">
                                                    <input type="text" class="form-control email-description"
                                                        placeholder="Enter description">
                                                    <div class="form-text">Enter a description for this email</div>
                                                </div>
                                                <div class="col-md-2">
                                                    <button type="button" class="btn btn-danger remove-entry">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12 text-start">
                                                <button type="button" class="btn btn-primary add-email">
                                                    <i class="fas fa-plus"></i>Add Email
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
        
                                <!-- Group Phone -->
                                <div class="mb-4 text-start">
                                    <label for="{{ form.group_phone.id_for_label }}" class="form-label">
                                        {{ form.group_phone.label }}
                                    </label>
                                    {{ form.group_phone }}
                                    {% if form.group_phone.help_text %}
                                    <div class="form-text">{{ form.group_phone.help_text }}</div>
                                    {% endif %}
                                </div>
        
                                <!-- Group Email -->
                                <div class="mb-4 text-start">
                                    <label for="{{ form.group_email.id_for_label }}" class="form-label">
                                        {{ form.group_email.label }}
                                    </label>
                                    {{ form.group_email }}
                                    {% if form.group_email.help_text %}
                                    <div class="form-text">{{ form.group_email.help_text }}</div>
                                    {% endif %}
                                </div>
        
                                <!-- Account Manager Name -->
                                <div class="mb-4 text-start">
                                    <label for="{{ form.account_manager_name.id_for_label }}" class="form-label">
                                        {{ form.account_manager_name.label }}
                                    </label>
                                    {{ form.account_manager_name }}
                                    {% if form.account_manager_name.help_text %}
                                    <div class="form-text">{{ form.account_manager_name.help_text }}</div>
                                    {% endif %}
                                </div>
        
                                <!-- Account Manager Email -->
                                <div class="mb-4 text-start">
                                    <label for="{{ form.account_manager_email.id_for_label }}" class="form-label">
                                        {{ form.account_manager_email.label }}
                                    </label>
                                    {{ form.account_manager_email }}
                                    {% if form.account_manager_email.help_text %}
                                    <div class="form-text">{{ form.account_manager_email.help_text }}</div>
                                    {% endif %}
                                </div>
        
                                <!-- Account Manager Phone -->
                                <div class="mb-5 text-start">
                                    <label for="{{ form.account_manager_phone.id_for_label }}" class="form-label">
                                        {{ form.account_manager_phone.label }}
                                    </label>
                                    {{ form.account_manager_phone }}
                                    {% if form.account_manager_phone.help_text %}
                                    <div class="form-text">{{ form.account_manager_phone.help_text }}</div>
                                    {% endif %}
                                </div>
        
                                <!-- Other Notes -->
                                <div class="mb-3 text-start">
                                    <label class="form-label">Additional Notes</label>
                                    <div id="notes-container">
                                        <div class="note-entry mb-2">
                                            <!-- In your notes section -->
                                            <div class="row">
                                                <div class="col-md-11">
                                                    <textarea name="note_text[]" class="tinymce-editor"
                                                        placeholder="Enter additional note about the supplier"
                                                        rows="3"></textarea>
                                                    <div class="form-text">Add any relevant information about this supplier
                                                    </div>
                                                </div>
                                                <div class="col-md-1">
                                                    <button type="button" class="btn btn-danger remove-entry">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-12">
                                                <button type="button" class="btn btn-primary add-note">
                                                    <i class="fas fa-plus me-1"></i>Add Note
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
        
                                <!-- Submit Button -->
                                <div class="text-center mt-4">
                                    <button type="submit" class="btn btn-primary btn-md">
                                        <i class="fas fa-save me-1"></i> Add Supplier
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-3 text-center ps-5 pt-1">
            <div class="sticky-top" style="top: 20px;">
                <a href="{% url 'agent_support:supplier_contacts' %}" class="btn btn-special btn-md">
                    <i class="fas fa-arrow-left me-1"></i>Go Back
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block postload_js %}
<script src="{% static 'agent_support/js/agent_support.js' %}"></script>
{% endblock %}